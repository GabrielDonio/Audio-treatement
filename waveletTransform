import librosa
import numpy as np
import matplotlib.pyplot as plt
import pywt  

# Charger le son
signal, sr = librosa.load("/Users/macos/Documents/Audio python/Data audio/705944__josefpres__guitar-tones-005-string-b-22-tone-a57.wav", sr=None)

scales = np.arange(1, 256)
coefficients, frequencies = pywt.cwt(signal, scales, 'gaus8', sampling_period=1/sr)

# Afficher le scalogramme
plt.figure(figsize=(12, 6))
plt.imshow(np.abs(coefficients), extent=[0, len(signal)/sr, frequencies[-1], frequencies[0]],
           cmap='viridis', aspect='auto')
plt.colorbar(label='Amplitude')
plt.ylabel('Fr√©quence (Hz)')
plt.xlabel('Temps (s)')
plt.title('Scalogramme (CWT - Morlet)')
plt.show()
